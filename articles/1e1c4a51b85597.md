---
title: "IndexedDB ã‚’ä½¿ã£ãŸã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹"
emoji: "ğŸ—‚ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["indexeddb", "test"]
published: true
---

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ãŸã¾ã«æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã€‚

```
ReferenceError: indexedDB is not defined
```

ã“ã‚Œã¯ã©ã“ã‹ã§ [IndexedDB](https://developer.mozilla.org/ja/docs/Web/API/IndexedDB_API) ã‚’ä½¿ã£ã¦ã„ã‚‹ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã®ç’°å¢ƒã«ã¯å®šç¾©ã•ã‚Œã¦ã„ãªã„çŠ¶æ³ã§ç™ºç”Ÿã™ã‚‹ã€‚

å¯¾å¿œã¨ã—ã¦ã¯ãƒ¢ãƒƒã‚¯ã—ã¦ã‚„ã‚Œã°è‰¯ã„ã€‚ãã®ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ `fake-indexeddb` ã ã€‚

https://github.com/dumbmatter/fakeIndexedDB

Jest ã‚„ Vitest ã§ã‚ã‚Œã°è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã® `setupFiles` ã«æ¬¡ã‚’æŒ‡å®šã—ã¦ã‚„ã‚‹ã€‚

```json
{
  // snip
  "setupFiles": ["fake-indexeddb/auto"]
  // snip
}
```
