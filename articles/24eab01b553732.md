---
title: "Python ã§ libmysqlclient.XX.dylib ãŒè¦‹ã¤ã‹ã‚‰ãªã„ on macOS"
emoji: "ğŸ¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["macOS", "Python", "MySQL", "troubleshooting"]
published: true
---

Python ã‹ã‚‰ MySQL äº’æ›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸æ¥ç¶šã™ã‚‹ã¨ãã« [`mysqlclient`](https://pypi.org/project/mysqlclient/) ã‚’ä½¿ã£ã¦ã„ãŸã®ã ãŒæ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã€‚

```shell
Reason: tried: '/usr/local/opt/mysql/lib/libmysqlclient.23.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/usr/local/opt/mysql/lib/libmysqlclient.23.dylib' (no such file), '/usr/local/opt/mysql/lib/libmysqlclient.23.dylib' (no such file)
```

ã“ã®å ´åˆã€ãƒã‚§ãƒƒã‚¯ã™ã¹ãç‚¹ã¯ 2 ã¤ã€‚

## libmysqlclient.XX.dylib ã‚ã‚‹ ?

ã¾ãšã€ãã‚‚ãã‚‚è©²å½“ã® dynamic link library ãŒå®Ÿè¡Œç’°å¢ƒã«å­˜åœ¨ã™ã‚‹ã‹ã©ã‚ã†ã‹ ? `/usr/local/opt/` ç›´ä¸‹ã« `mysql` ã§ã¯ã˜ã¾ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°ãã®ä¸­èº«ã‚’è¦‹ã¦ã¿ã‚‹ã€‚ã“ã®ã¸ã‚“ã€‚

```shell
ls /usr/local/opt/mysql/lib
ls /usr/local/opt/mysql-client/lib
```

å­˜åœ¨ã—ãªã„å ´åˆã¯ [`mysql-client`](https://formulae.brew.sh/formula/mysql-client) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚

```shell
brew install mysql-client
```

[`mysql`](https://formulae.brew.sh/formula/mysql) ã§ã‚‚ã„ã„å¯èƒ½æ€§ãŒã‚ã‚‹ãŒã€ã“ã¡ã‚‰ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã¯æœªç¢ºèªã€‚

## ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯å¼µã‚‹

ä½•åº¦ã‹ `mysqlclient` ã‚’å‰Šé™¤ã—ãŸã‚Šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚Šã—ã¦ã¿ãŸãŒã€ `/usr/local/opt/mysql` ã‚’å›ºå®šã§è¦‹ã¦ã„ã‚‹ã‚‰ã—ãã€~~å¯¾å¿œãŒã‚ã‚“ã©ãã•ããªã£ãŸã®ã§~~åŠ›æŠ€ã§è§£æ±ºã€‚

```shell
ln -s /usr/local/opt/mysql-client /usr/local/opt/mysql
```

æœ€è¿‘ã¯ `mysql` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã«ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã§ MySQL ã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¦ã‚‹ã®ãŒæ¥½ãªã®ã§ã“ã‚Œã§è‰¯ã„ã¯ãšã€‚
