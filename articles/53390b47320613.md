---
title: "monorepo ã§ React Native without framework ã‚’ä½¿ã†"
emoji: "ğŸï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["reactnative"]
published: true
publication_name: "beingish"
---

ç¢ºèªã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ v0.74 ã®ã¿ã€‚

ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—ã® React Native ã‚’ monorepo ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã²ã¨ã¤ã¨ã—ã¦ initialize ã—ãŸå ´åˆã€ãã®ã¾ã¾ã§ã¯ Metro ã§æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã€‚

```
Unable to resolve module @babel/runtime/helpers/interopRequireDefault
```

[metro.config.js ã§ `watchFolders` ã¨ã—ã¦ monorepo ãƒ«ãƒ¼ãƒˆã‚’æŒ‡å®šã™ã‚‹ã¨è§£æ±ºã™ã‚‹](https://stackoverflow.com/a/78243319/26427523)ã€‚

```javascript
const { getDefaultConfig, mergeConfig } = require("@react-native/metro-config");
const path = require("path");

const monorepoRoot = path.resolve(__dirname, "../../");

/**
 * Metro configuration
 * https://reactnative.dev/docs/metro
 *
 * @type {import('metro-config').MetroConfig}
 */
const config = {
  watchFolders: [monorepoRoot],
};

module.exports = mergeConfig(getDefaultConfig(__dirname), config);
```

Metro ãŒ symlink ã‚’è§£æ±ºã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸå½±éŸ¿ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã«å¿…è¦ã¨ãªã£ãŸè¨­å®šã ã€‚

[React Native ãƒãƒ¼ãƒ ã¯ã™ãè§£æ±ºã™ã‚‹ã¤ã‚‚ã‚Šã‚‰ã—ã„](https://reactnative.dev/blog/2023/12/06/0.73-debugging-improvements-stable-symlinks#monorepo-workarounds)ã®ã§ã€ã“ã‚Œã¯ä»Šé™å®šã®ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ã«ãªã‚‹ã ã‚ã†ã€‚
